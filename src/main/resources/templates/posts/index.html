<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="fragments/head :: head('Social Code')">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8">
    <title>Welcome</title>

</head>
<body class="community">
<header><nav th:replace="fragments/navbar :: navbar"></nav></header>

<section class="header-border d-flex justify-content-center align-items-center" style="background-color: #576541; ">
    <div class="header-fill d-flex justify-content-center align-items-center" style="background-color: #876A3B;">
        <div class="social">
            <img class="social-img" src="/img/Social-lg.png"/>
        </div>
    </div>
</section>

<!--        <div th:each="post, iterStat : ${posts}" class="box" th:id=" 'masonryIndex' + ${iterStat.count}">-->
<!--            <div class="row" th:style="${iterStat.odd}? 'width: 35rem' :'width: 18rem; height: 35rem;'">-->
<!--                <div class="cards col-6" >-->
<!--                    <div th:style="${iterStat.odd}? 'width: 20rem; height: 25rem' : 'width: 38rem; height: 15'" class="card">-->
<!--                            <div class="card-header">-->
<!--                                <img id="all-image" class="image&#45;&#45;cover all-profile-image" th:src="*{user.picture}" width="100%"/>-->
<!--                            </div>-->
<!--                            <div class="card-body">-->
<!--                                <h3 th:text="${post.title}">Title</h3>-->
<!--                                <div th:text="${post.body}">Description</div>-->
<!--&lt;!&ndash;                                <div th:text="${post.user.username}">Email</div>&ndash;&gt;-->
<!--                            </div>-->
<!--                            <div class="card-footer text-center">-->
<!--                                <a th:href="@{'/posts/' + ${post.id}}" class="btn btn-sm btn-success"><em>View Post</em></a> <br>-->
<!--&lt;!&ndash;                                <div th:if="${#authentication.principal.id == post.user.id}">&ndash;&gt;-->
<!--                                <a th:href="@{'/posts/' + ${post.id} + '/edit'}" style="font-size: 10px;  background-color: #df855f; color: white; border: dimgrey 1px solid; border-radius: 5px; padding: 3px; margin: 15px 0px 0px 0px;">Edit</a>-->
<!--&lt;!&ndash;                                <a th:href="@{'/posts/' + ${post.id} + '/edit'}" style="font-size: 10px;  background-color: #df855f; color: white;  border: dimgrey 1px solid; border-radius: 5px; padding: 3px; margin: 15px 0px 0px 0px;">Delete</a>&ndash;&gt;-->
<!--&lt;!&ndash;                                </div>&ndash;&gt;-->
<!--                            </div>-->
<!--                    </div>-->
<!--                 </div>-->
<!--            </div>-->
<!--        </div>-->
<!--</div>-->




 <!-- <div class="container index-container">-->

        <!-- <div th:each="post, iterStat : ${posts}" class="box" th:id=" 'masonryIndex' + ${iterStat.count}">-->
            <!--<div class="row" th:style="${iterStat.odd}? 'width: 35rem' :'width: 18rem; height: 35rem;'">-->
               <!--  <div class="cards col-6" >-->
                    <!--<div th:style="${iterStat.odd}? 'width: 20rem; height: 25rem' : 'width: 38rem; height: 15'" class="card">-->
                       <!-- <div class="card-header">-->
    <!--                        <h1>Picture: <span th:text="${user.getPicture()}"></span></h1>-->
                       <!-- </div>-->
                       <!-- <div class="card-body">-->
                          <!--  <h3 th:text="${post.title}">Title</h3>-->
                          <!--  <div th:text="${post.body}">Description</div>-->
<!--                                <div th:text="${post.user.username}">Email</div>-->
                       <!-- </div>-->
                        <!--<div class="card-footer text-center">-->
                           <!-- <a th:href="@{'/posts/' + ${post.id}}" class="btn btn-sm btn-success"><em>View Post</em></a> <br>-->
                           <!-- <div th:if="${#authentication.principal.id == post.user.id}">-->
                              <!--  <a th:href="@{'/posts/' + ${post.id} + '/edit'}" style="font-size: 10px;  background-color: #df855f; color: white; border: dimgrey 1px solid; border-radius: 5px; padding: 3px; margin: 15px 0px 0px 0px;">Edit</a>-->
<!--                                <a th:href="@{'/posts/' + ${post.id} + '/edit'}" style="font-size: 10px;  background-color: #df855f; color: white;  border: dimgrey 1px solid; border-radius: 5px; padding: 3px; margin: 15px 0px 0px 0px;">Delete</a>-->
                         <!--   </div>-->
                       <!-- </div>-->
 


<div class="container-fluid text-center index-container">
    <div class="row justify-content-center pt-5">
        <div th:each="post : ${posts}">
            <div class="card comm-post-card ">
                    <div class="card-header">
                        <img id="all-image" class="image--cover all-profile-image" th:src="*{post.user.picture}" width="100%"/
                    </div>
                    <div class="card-body">
                        <h3 th:text="${post.title}" style="color: #7ea552;">Title</h3>
                        <div th:text="${post.body}">Description</div>
                        <th:block th:each="cat : ${post.categories}">
                            <div>Category: <span th:text="${cat.name}"></span></div>
                        </th:block>
                    </div>
<!--                Log in users -->
                <th:block sec:authorize="isAuthenticated()">
                    <div class="card-footer text-center" style="background-color: #7ea552; box-shadow: rgba(9, 0, 0, 0.28) 10px 10px 10px;">
                        <a sec:authorize="isAuthenticated()" th:href="@{'/posts/' + ${post.id}}" class="btn index-btn btn-sm" style="background-color: #ffde59; color: black; border: gray 1px solid; border-radius: 5px; margin-bottom: 3px"><em>View Post</em></a> <br>
                    </div>
                </th:block>
<!--             for visitor -->
                <th:block sec:authorize="!isAuthenticated()">
                    <div class="card-footer text-center" style="background-color: #7ea552; box-shadow: rgba(9, 0, 0, 0.28) 10px 10px 10px;">
                        <a th:href="@{'/sign-up'}" class="btn index-btn btn-sm" style="background-color: #ffde59; color: black; border: gray 1px solid; border-radius: 5px; margin-bottom: 3px"><em>View Post</em></a> <br>
                    </div>
                </th:block>
            </div>
        </div>
    </div>
</div>



<th:block th:replace="fragments/footer :: footer-script"></th:block>
</body>
</html>

